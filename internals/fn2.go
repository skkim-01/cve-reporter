package internals

import (
	"fmt"
	"os"

	JsonMapper "github.com/skkim-01/json-mapper/src"
)

func ReadFromFile(strPath string) (*JsonMapper.JsonMap, error) {
	pFile, err := os.Open(strPath)
	defer pFile.Close()
	if err != nil {
		fmt.Println(err)
		return nil, err
	}
	buffer := make([]byte, 15000000)
	nBytes, err := pFile.Read(buffer)
	if err != nil {
		fmt.Println(err)
		return nil, err
	}

	mapJson, err := JsonMapper.NewBytes(buffer[:nBytes])
	if err != nil {
		fmt.Println(err)
		return nil, err
	}
	return mapJson, nil
}

func JsonIterate(pFile os.File, jsonMap *JsonMapper.JsonMap) {

}
